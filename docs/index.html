<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><link rel="canonical" href="https://hmake98.github.io/nestjs-mcp/"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>NestJS MCP - v1.0.0</title><meta name="description" content="Documentation for NestJS MCP"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css?cache=1763120002065"/><link rel="stylesheet" href="assets/highlight.css?cache=1763120002065"/><script defer src="assets/main.js?cache=1763120002065"></script><script async src="assets/icons.js?cache=1763120002065" id="tsd-icons-script"></script><script async src="assets/search.js?cache=1763120002065" id="tsd-search-script"></script><script async src="assets/navigation.js?cache=1763120002065" id="tsd-nav-script"></script><script async src="assets/hierarchy.js?cache=1763120002065" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">NestJS MCP - v1.0.0</a><div id="tsd-toolbar-links"><a href="https://github.com/hmake98/nestjs-mcp">GitHub</a><a href="https://www.npmjs.com/package/nestjs-mcp">NPM</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>NestJS MCP - v1.0.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="hmake98nestjs-mcp" class="tsd-anchor-link">@hmake98/nestjs-mcp<a href="#hmake98nestjs-mcp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><img src="https://img.shields.io/badge/statements-98.17%25-brightgreen.svg?style=flat" alt="Statements"> <img src="https://img.shields.io/badge/branches-92.55%25-brightgreen.svg?style=flat" alt="Branches"> <img src="https://img.shields.io/badge/functions-98.66%25-brightgreen.svg?style=flat" alt="Functions"> <img src="https://img.shields.io/badge/lines-98.17%25-brightgreen.svg?style=flat" alt="Lines"></p>
<p>A NestJS library for integrating the Model Context Protocol (MCP) into your applications. Built on top of the official <a href="https://github.com/modelcontextprotocol/typescript-sdk" target="_blank" class="external"><code>@modelcontextprotocol/sdk</code></a> v1.21.1, this package provides a decorator-based approach to building MCP servers with NestJS.</p>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#example-repository">Example Repository</a></li>
<li><a href="#mcp-playground">MCP Playground</a></li>
<li><a href="#type-safe-client-generator">Type-Safe Client Generator</a></li>
<li><a href="#guards--interceptors">Guards &amp; Interceptors</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#decorators">Decorators</a></li>
<li><a href="#versioning--deprecation">Versioning &amp; Deprecation</a></li>
<li><a href="#transport-options">Transport Options</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üéØ <strong>Decorator-based API</strong>: Use <code>@MCPTool</code>, <code>@MCPToolWithParams</code>, <code>@MCPResource</code>, <code>@MCPResourceTemplate</code>, and <code>@MCPPrompt</code> decorators</li>
<li>üîÑ <strong>Auto-discovery</strong>: Automatically discovers and registers tools, resources, and prompts from your providers</li>
<li>üõ°Ô∏è <strong>Guards &amp; Interceptors</strong>: Production-ready execution pipeline with authentication, rate limiting, logging, and error handling</li>
<li>üîê <strong>Security Built-in</strong>: AuthGuard, RateLimitGuard, and PermissionGuard for access control</li>
<li>üìä <strong>Observability</strong>: LoggingInterceptor, TimeoutInterceptor, and ErrorMappingInterceptor for monitoring</li>
<li>üß™ <strong>Built-in Playground</strong>: Interactive web UI at <code>/mcp/playground</code> for testing tools, resources, and prompts without curl</li>
<li>üöÄ <strong>Client Generator</strong>: CLI tool to generate 100% type-safe TypeScript clients from your running server</li>
<li>üåê <strong>Multiple Transport Protocols</strong>: HTTP, WebSocket, SSE, Redis Pub/Sub, gRPC, and stdio support</li>
<li>üì° <strong>Real-time Communication</strong>: WebSocket and SSE for bidirectional and streaming data</li>
<li>üîÄ <strong>Distributed Systems</strong>: Redis adapter for multi-process clusters and horizontal scaling</li>
<li>‚ö° <strong>High Performance</strong>: gRPC support for microservices and high-throughput scenarios</li>
<li>üì¶ <strong>Official SDK Integration</strong>: Powered by <code>@modelcontextprotocol/sdk</code> v1.21.1 with modern <code>McpServer</code> API</li>
<li>üîß <strong>TypeScript First</strong>: Full type safety and IntelliSense support with Zod schema validation</li>
<li>üìå <strong>Versioning &amp; Deprecation</strong>: Track versions and manage API evolution with built-in deprecation support</li>
<li>üé® <strong>Flexible Configuration</strong>: Sync and async module configuration options</li>
<li>üìù <strong>Logging Support</strong>: Configurable log levels (error, warn, info, debug, verbose)</li>
<li>üöÄ <strong>Production Ready</strong>: Built with NestJS best practices and comprehensive test coverage</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span>
</code><button type="button">Copy</button></pre>

<h3 id="peer-dependencies" class="tsd-anchor-link">Peer Dependencies<a href="#peer-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This package requires the following peer dependencies:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;@nestjs/common&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;^10.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;@nestjs/core&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;^10.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;reflect-metadata&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;^0.1.13&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;rxjs&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;^7.8.0&quot;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="optional-transport-dependencies" class="tsd-anchor-link">Optional Transport Dependencies<a href="#optional-transport-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install additional packages based on the transports you want to use:</p>
<pre><code class="bash"><span class="hl-3"># WebSocket transport</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ws</span><span class="hl-1"> </span><span class="hl-2">@types/node</span><br/><br/><span class="hl-3"># SSE transport</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">rxjs</span><span class="hl-1"> </span><span class="hl-2">@types/express</span><br/><br/><span class="hl-3"># Redis transport</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ioredis</span><br/><br/><span class="hl-3"># gRPC transport</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@grpc/grpc-js</span><span class="hl-1"> </span><span class="hl-2">@grpc/proto-loader</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>Note</strong>: HTTP and stdio transports are built-in and require no additional dependencies.</p>
</blockquote>
<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-import-the-module" class="tsd-anchor-link">1. Import the Module<a href="#1-import-the-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Import and configure the <code>MCPModule</code> in your application module:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-mcp-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">autoDiscoverTools:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-3">// Default: true</span><br/><span class="hl-1">            </span><span class="hl-6">autoDiscoverResources:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-3">// Default: true</span><br/><span class="hl-1">            </span><span class="hl-6">autoDiscoverPrompts:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-3">// Default: true</span><br/><span class="hl-1">            </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">, </span><span class="hl-3">// Default: &#39;info&#39;</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-create-mcp-tools" class="tsd-anchor-link">2. Create MCP Tools<a href="#2-create-mcp-tools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create a service with MCP tool methods using decorators:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPTool</span><span class="hl-1">, </span><span class="hl-6">MCPToolWithParams</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">CalculatorService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Simple tool with automatic parameter inference</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Add two numbers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">a</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-6">b</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> + </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Tool with explicit parameter definitions and validation</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPToolWithParams</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;multiply&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Multiply two numbers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;a&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;First number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;b&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Second number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">multiply</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">a</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-6">b</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> * </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Return structured tool results</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;format-result&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Format calculation result&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">formatResult</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">content:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`The result is: </span><span class="hl-7">${</span><span class="hl-6">params</span><span class="hl-9">.</span><span class="hl-6">value</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Important</strong>: Register the service in your module's providers:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-3">/* ... */</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-6">providers:</span><span class="hl-1"> [</span><span class="hl-6">CalculatorService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-create-mcp-resources" class="tsd-anchor-link">3. Create MCP Resources<a href="#3-create-mcp-resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Resources provide access to data or content. Create static or dynamic resources:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPResource</span><span class="hl-1">, </span><span class="hl-6">MCPResourceTemplate</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">FileService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Static resource - fixed URI</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPResource</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;file:///readme.txt&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;README&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Application README file&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getReadme</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;file:///readme.txt&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">&#39;Welcome to my MCP server!&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Dynamic resource with URI template</span><br/><span class="hl-1">    </span><span class="hl-3">// Matches URIs like: file:///documents/report.pdf</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPResourceTemplate</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">uriTemplate:</span><span class="hl-1"> </span><span class="hl-2">&#39;file:///{filename}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;File&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Access any file by filename&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getFile</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">: { </span><span class="hl-6">filename</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Variables are automatically extracted from the URI</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">content</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">readFile</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">filename</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">`file:///</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">filename</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-6">content</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Advanced template with multiple variables</span><br/><span class="hl-1">    </span><span class="hl-3">// Matches URIs like: resource:///user/123/profile</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPResourceTemplate</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">uriTemplate:</span><span class="hl-1"> </span><span class="hl-2">&#39;resource:///{type}/{id}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Dynamic Resource&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get resource by type and ID&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getResource</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">: { </span><span class="hl-6">type</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">data</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">fetchResourceData</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">type</span><span class="hl-1">, </span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">`resource:///</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">type</span><span class="hl-7">}</span><span class="hl-2">/</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">id</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-6">data</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">readFile</span><span class="hl-1">(</span><span class="hl-6">filename</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Your file reading logic here</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">`Content of </span><span class="hl-7">${</span><span class="hl-6">filename</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">fetchResourceData</span><span class="hl-1">(</span><span class="hl-6">type</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Your data fetching logic here</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">type</span><span class="hl-1">, </span><span class="hl-6">id</span><span class="hl-1">, </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-2">&#39;...&#39;</span><span class="hl-1"> };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-create-mcp-prompts" class="tsd-anchor-link">4. Create MCP Prompts<a href="#4-create-mcp-prompts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Prompts provide reusable message templates for AI interactions:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPPrompt</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">PromptService</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;code-review&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Generate a code review prompt&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">arguments:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;language&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Programming language&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;code&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Code to review&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">codeReview</span><span class="hl-1">(</span><span class="hl-6">args</span><span class="hl-1">: { </span><span class="hl-6">language</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`Please review this </span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">language</span><span class="hl-7">}</span><span class="hl-2"> code:</span><span class="hl-11">\n\n</span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">code</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ];</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    @</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;summarize&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Summarize content with custom length&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">arguments:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;content&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Content to summarize&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;length&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Summary length (short, medium, long)&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">summarize</span><span class="hl-1">(</span><span class="hl-6">args</span><span class="hl-1">: { </span><span class="hl-6">content</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">length</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">lengthInstruction</span><span class="hl-1"> = </span><span class="hl-6">args</span><span class="hl-1">.</span><span class="hl-6">length</span><br/><span class="hl-1">            ? </span><span class="hl-2">`in </span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">length</span><span class="hl-7">}</span><span class="hl-2"> form`</span><br/><span class="hl-1">            : </span><span class="hl-2">&#39;concisely&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`Please summarize the following content </span><span class="hl-7">${</span><span class="hl-6">lengthInstruction</span><span class="hl-7">}</span><span class="hl-2">:</span><span class="hl-11">\n\n</span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">content</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="example-repository" class="tsd-anchor-link">Example Repository<a href="#example-repository" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Want to see a complete working example?</strong></p>
<p>Check out the <a href="https://github.com/hmake98/nestjs-mcp-example" target="_blank" class="external">nestjs-mcp-example</a> repository, which demonstrates all the features of this library in a real NestJS application:</p>
<ul>
<li>‚úÖ Complete setup with all decorators (<code>@MCPTool</code>, <code>@MCPResource</code>, <code>@MCPPrompt</code>)</li>
<li>‚úÖ Guards and interceptors configuration</li>
<li>‚úÖ Multiple transport protocols (HTTP, WebSocket, SSE, Redis, gRPC)</li>
<li>‚úÖ Real-world use cases and best practices</li>
<li>‚úÖ Type-safe client generation examples</li>
</ul>
<p>Visit the repo to clone and run it locally: <a href="https://github.com/hmake98/nestjs-mcp-example" target="_blank" class="external">github.com/hmake98/nestjs-mcp-example</a></p>
<h2 id="mcp-playground" class="tsd-anchor-link">MCP Playground<a href="#mcp-playground" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Interactive web UI for testing your MCP server without curl or external tools.</strong></p>
<p>The built-in playground provides a browser-based interface for discovering and testing tools, resources, and prompts. Access it at:</p>
<pre><code><span class="hl-12">http</span><span class="hl-1">:</span><span class="hl-3">//localhost:3000/mcp/playground</span>
</code><button>Copy</button></pre>

<h3 id="features-1" class="tsd-anchor-link">Features<a href="#features-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>üìã <strong>Auto-discovery</strong>: Automatically loads all registered tools, resources, and prompts</li>
<li>üìù <strong>Dynamic Forms</strong>: Generates input forms from JSON Schema parameter definitions</li>
<li>‚ñ∂Ô∏è <strong>Execute &amp; Test</strong>: Call tools, read resources, and test prompts with real-time results</li>
<li>üìä <strong>Request Logging</strong>: View JSON-RPC request/response history with timestamps</li>
<li>üé® <strong>Modern UI</strong>: Clean, responsive design with tabbed navigation</li>
<li>‚ö° <strong>Zero Config</strong>: Works out-of-the-box once MCPModule is imported</li>
</ul>
<h3 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p><strong>Start your NestJS app</strong> with <code>MCPModule.forRoot()</code>:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-app&#39;</span><span class="hl-1">, </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-6">providers:</span><span class="hl-1"> [</span><span class="hl-6">YourMCPProviders</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Navigate to</strong> <code>http://localhost:3000/mcp/playground</code> in your browser</p>
</li>
<li>
<p><strong>Select a tool/resource/prompt</strong> from the list in the left panel</p>
</li>
<li>
<p><strong>Fill out the form</strong> with required parameters</p>
</li>
<li>
<p><strong>Click &quot;Execute&quot;</strong> to test and view results</p>
</li>
</ol>
<h3 id="playground-tabs" class="tsd-anchor-link">Playground Tabs<a href="#playground-tabs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Tools</strong>: Test MCP tools with parameter inputs and view return values</li>
<li><strong>Resources</strong>: Read static or templated resources by URI</li>
<li><strong>Prompts</strong>: Execute prompts with arguments and view generated messages</li>
<li><strong>Logs</strong>: Review request/response JSON-RPC history</li>
</ul>
<blockquote>
<p>üí° <strong>Tip</strong>: The playground uses the same <code>/mcp</code> JSON-RPC endpoint as external clients, so behavior is identical to production usage.</p>
</blockquote>
<h2 id="type-safe-client-generator" class="tsd-anchor-link">Type-Safe Client Generator<a href="#type-safe-client-generator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Automatically generate a fully type-safe TypeScript client from your running MCP server.</strong></p>
<p>The CLI tool introspects your server and generates a complete client library with 100% type safety, zero boilerplate, and full IntelliSense support.</p>
<h3 id="quick-start-1" class="tsd-anchor-link">Quick Start<a href="#quick-start-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Start your MCP server</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">start</span><br/><br/><span class="hl-3"># Generate the client</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span><span class="hl-1"> </span><span class="hl-2">client:generate</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">--url</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">--out</span><span class="hl-1"> </span><span class="hl-2">./mcp-client</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">--name</span><span class="hl-1"> </span><span class="hl-2">my-mcp-client</span>
</code><button type="button">Copy</button></pre>

<h3 id="usage-1" class="tsd-anchor-link">Usage<a href="#usage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">createClient</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./mcp-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">mcp</span><span class="hl-1"> = </span><span class="hl-0">createClient</span><span class="hl-1">(</span><span class="hl-2">&#39;http://localhost:3000/mcp&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Fully typed tool calls</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">tools</span><span class="hl-1">[</span><span class="hl-2">&#39;user.get&#39;</span><span class="hl-1">]({ </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;123&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">// Resource access</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">resources</span><span class="hl-1">.</span><span class="hl-0">read</span><span class="hl-1">(</span><span class="hl-2">&#39;file:///config/app.json&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Prompt execution</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">prompts</span><span class="hl-1">[</span><span class="hl-2">&#39;review-code&#39;</span><span class="hl-1">]({</span><br/><span class="hl-1">    </span><span class="hl-6">language:</span><span class="hl-1"> </span><span class="hl-2">&#39;typescript&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">code:</span><span class="hl-1"> </span><span class="hl-2">&#39;function add(a, b) { return a + b; }&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="features-2" class="tsd-anchor-link">Features<a href="#features-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>‚úÖ <strong>100% Type Safety</strong> - Parameter types, return types, all automatically inferred</li>
<li>‚úÖ <strong>Zero Boilerplate</strong> - No manual JSON-RPC calls or schema definitions</li>
<li>‚úÖ <strong>IntelliSense</strong> - Full auto-completion for all tools, resources, and prompts</li>
<li>‚úÖ <strong>Version Aware</strong> - Includes deprecation warnings in JSDoc comments</li>
<li>‚úÖ <strong>Single Source of Truth</strong> - Regenerate when your server changes</li>
<li>‚úÖ <strong>Framework Agnostic</strong> - Works in React, Vue, Node.js workers, microservices</li>
</ul>
<h3 id="generated-structure" class="tsd-anchor-link">Generated Structure<a href="#generated-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-6">mcp</span><span class="hl-1">-</span><span class="hl-6">client</span><span class="hl-1">/</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">          # </span><span class="hl-6">Main</span><span class="hl-1"> </span><span class="hl-6">entry</span><span class="hl-1"> </span><span class="hl-5">with</span><span class="hl-1"> </span><span class="hl-0">createClient</span><span class="hl-1">()</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-6">client</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">         # </span><span class="hl-6">Base</span><span class="hl-1"> </span><span class="hl-6">MCPClient</span><span class="hl-1"> </span><span class="hl-7">class</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-8">package</span><span class="hl-1">.</span><span class="hl-8">json</span><span class="hl-1">      # </span><span class="hl-8">Client</span><span class="hl-1"> </span><span class="hl-8">metadata</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-8">tools</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-8">index</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">      # </span><span class="hl-8">Type</span><span class="hl-1">-</span><span class="hl-8">safe</span><span class="hl-1"> </span><span class="hl-8">tool</span><span class="hl-1"> </span><span class="hl-8">wrappers</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-8">resources</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-8">index</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">      # </span><span class="hl-8">Resource</span><span class="hl-1"> </span><span class="hl-8">access</span><span class="hl-1"> </span><span class="hl-8">functions</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-8">prompts</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-8">index</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">      # </span><span class="hl-8">Prompt</span><span class="hl-1"> </span><span class="hl-8">execution</span><span class="hl-1"> </span><span class="hl-8">functions</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ </span><span class="hl-8">types</span><span class="hl-1">/</span><br/><span class="hl-1">    ‚îî‚îÄ‚îÄ </span><span class="hl-8">index</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">      # </span><span class="hl-8">Generated</span><span class="hl-1"> </span><span class="hl-8">TypeScript</span><span class="hl-1"> </span><span class="hl-8">interfaces</span>
</code><button>Copy</button></pre>

<h3 id="integration-examples" class="tsd-anchor-link">Integration Examples<a href="#integration-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Frontend (React)</strong></p>
<pre><code class="typescript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">mcp</span><span class="hl-1"> = </span><span class="hl-0">createClient</span><span class="hl-1">(</span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-6">env</span><span class="hl-1">.</span><span class="hl-10">REACT_APP_MCP_URL</span><span class="hl-1">);</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">UserProfile</span><span class="hl-1">({ </span><span class="hl-6">userId</span><span class="hl-1"> }: { </span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> [</span><span class="hl-10">user</span><span class="hl-1">, </span><span class="hl-10">setUser</span><span class="hl-1">] = </span><span class="hl-0">useState</span><span class="hl-1">(</span><span class="hl-7">null</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-0">useEffect</span><span class="hl-1">(() </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">tools</span><span class="hl-1">[</span><span class="hl-2">&#39;user.get&#39;</span><span class="hl-1">]({ </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1"> }).</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-6">setUser</span><span class="hl-1">);</span><br/><span class="hl-1">    }, [</span><span class="hl-6">userId</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> &lt;</span><span class="hl-8">div</span><span class="hl-1">&gt;{user?.</span><span class="hl-6">name</span><span class="hl-1">}&lt;/</span><span class="hl-6">div</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Worker / Background Job</strong></p>
<pre><code class="typescript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">mcp</span><span class="hl-1"> = </span><span class="hl-0">createClient</span><span class="hl-1">(</span><span class="hl-2">&#39;http://mcp-server:3000/mcp&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">processVideo</span><span class="hl-1">(</span><span class="hl-6">videoId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">tools</span><span class="hl-1">[</span><span class="hl-2">&#39;video.transcode&#39;</span><span class="hl-1">]({</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-6">videoId</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;mp4&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">quality:</span><span class="hl-1"> </span><span class="hl-2">&#39;high&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Microservice</strong></p>
<pre><code class="typescript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">mcp</span><span class="hl-1"> = </span><span class="hl-0">createClient</span><span class="hl-1">(</span><span class="hl-2">&#39;http://mcp-server.internal:3000/mcp&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">app</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/analyze&#39;</span><span class="hl-1">, </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-6">req</span><span class="hl-1">, </span><span class="hl-6">res</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">analysis</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-6">tools</span><span class="hl-1">[</span><span class="hl-2">&#39;analyze-sentiment&#39;</span><span class="hl-1">]({</span><br/><span class="hl-1">        </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-6">req</span><span class="hl-1">.</span><span class="hl-6">body</span><span class="hl-1">.</span><span class="hl-6">text</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-6">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">(</span><span class="hl-6">analysis</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="cli-options" class="tsd-anchor-link">CLI Options<a href="#cli-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span><span class="hl-1"> </span><span class="hl-2">client:generate</span><span class="hl-1"> [options]</span><br/><br/><span class="hl-0">Options:</span><br/><span class="hl-1">  </span><span class="hl-0">--url</span><span class="hl-1"> &lt;</span><span class="hl-2">ur</span><span class="hl-1">l&gt;         </span><span class="hl-2">MCP</span><span class="hl-1"> </span><span class="hl-2">server</span><span class="hl-1"> </span><span class="hl-2">URL</span><span class="hl-1"> (required)</span><br/><span class="hl-1">  </span><span class="hl-0">--out</span><span class="hl-1"> &lt;</span><span class="hl-2">director</span><span class="hl-1">y&gt;   </span><span class="hl-2">Output</span><span class="hl-1"> </span><span class="hl-2">directory</span><span class="hl-1"> (default: </span><span class="hl-2">./mcp-client</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">--name</span><span class="hl-1"> &lt;</span><span class="hl-2">nam</span><span class="hl-1">e&gt;       </span><span class="hl-2">Client</span><span class="hl-1"> </span><span class="hl-2">package</span><span class="hl-1"> </span><span class="hl-2">name</span><span class="hl-1"> (default: </span><span class="hl-2">mcp-client</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">-V,</span><span class="hl-1"> </span><span class="hl-7">--version</span><span class="hl-1">       </span><span class="hl-2">Output</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">number</span><br/><span class="hl-1">  </span><span class="hl-0">-h,</span><span class="hl-1"> </span><span class="hl-7">--help</span><span class="hl-1">          </span><span class="hl-2">Display</span><span class="hl-1"> </span><span class="hl-2">help</span>
</code><button type="button">Copy</button></pre>

<h3 id="regenerating-after-changes" class="tsd-anchor-link">Regenerating After Changes<a href="#regenerating-after-changes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When you update your MCP server (add/remove/modify tools), regenerate the client:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">@hmake98/nestjs-mcp</span><span class="hl-1"> </span><span class="hl-2">client:generate</span><span class="hl-1"> </span><span class="hl-7">--url</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-7">--out</span><span class="hl-1"> </span><span class="hl-2">./mcp-client</span>
</code><button type="button">Copy</button></pre>

<p>The client will be updated with the latest server definitions.</p>
<h2 id="guards-interceptors" class="tsd-anchor-link">Guards &amp; Interceptors<a href="#guards-interceptors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Production-ready execution pipeline control for authentication, authorization, logging, and error handling.</strong></p>
<p>Guards and interceptors provide powerful control over your MCP tool/resource/prompt execution:</p>
<h3 id="quick-example" class="tsd-anchor-link">Quick Example<a href="#quick-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">MCPTool</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">UseMCPGuards</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">UseMCPInterceptors</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">AuthGuard</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">RateLimitGuard</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">LoggingInterceptor</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">TimeoutInterceptor</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">SecureToolProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">UseMCPGuards</span><span class="hl-1">(</span><span class="hl-6">AuthGuard</span><span class="hl-1">, </span><span class="hl-6">RateLimitGuard</span><span class="hl-1">)</span><br/><span class="hl-1">    @</span><span class="hl-0">UseMCPInterceptors</span><span class="hl-1">(</span><span class="hl-6">LoggingInterceptor</span><span class="hl-1">, </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">TimeoutInterceptor</span><span class="hl-1">(</span><span class="hl-13">5000</span><span class="hl-1">))</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;production_ready_tool&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Secured, rate-limited, logged, and timed&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">productionTool</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Protected and monitored data&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="built-in-guards" class="tsd-anchor-link">Built-in Guards<a href="#built-in-guards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong><code>AuthGuard</code></strong>: Authentication (extend for JWT, OAuth, etc.)</li>
<li><strong><code>RateLimitGuard</code></strong>: Rate limiting (10 req/min default, configurable)</li>
<li><strong><code>PermissionGuard</code></strong>: Role-based access control</li>
</ul>
<h3 id="built-in-interceptors" class="tsd-anchor-link">Built-in Interceptors<a href="#built-in-interceptors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong><code>LoggingInterceptor</code></strong>: Execution logging with timing</li>
<li><strong><code>TimeoutInterceptor</code></strong>: Prevent long-running operations</li>
<li><strong><code>ErrorMappingInterceptor</code></strong>: Consistent error responses</li>
</ul>
<h3 id="usage-patterns" class="tsd-anchor-link">Usage Patterns<a href="#usage-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// Authentication only</span><br/><span class="hl-1">@</span><span class="hl-0">UseMCPGuards</span><span class="hl-1">(</span><span class="hl-6">AuthGuard</span><span class="hl-1">)</span><br/><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({ </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth_tool&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Requires auth&#39;</span><span class="hl-1"> })</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">authTool</span><span class="hl-1">() { </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">; }</span><br/><br/><span class="hl-3">// Full production stack</span><br/><span class="hl-1">@</span><span class="hl-0">UseMCPGuards</span><span class="hl-1">(</span><span class="hl-6">AuthGuard</span><span class="hl-1">, </span><span class="hl-6">RateLimitGuard</span><span class="hl-1">, </span><span class="hl-6">PermissionGuard</span><span class="hl-1">)</span><br/><span class="hl-1">@</span><span class="hl-0">UseMCPInterceptors</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">LoggingInterceptor</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">TimeoutInterceptor</span><span class="hl-1">(</span><span class="hl-13">10000</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">ErrorMappingInterceptor</span><span class="hl-1">,</span><br/><span class="hl-1">)</span><br/><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({ </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;enterprise_tool&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Enterprise ready&#39;</span><span class="hl-1"> })</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">enterpriseTool</span><span class="hl-1">() { </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">; }</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-guards" class="tsd-anchor-link">Custom Guards<a href="#custom-guards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">MCPGuard</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">MCPExecutionContext</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">MCPUnauthorizedException</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">JWTAuthGuard</span><span class="hl-1"> </span><span class="hl-7">implements</span><span class="hl-1"> </span><span class="hl-8">MCPGuard</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">canActivate</span><span class="hl-1">(</span><span class="hl-6">context</span><span class="hl-1">: </span><span class="hl-8">MCPExecutionContext</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">boolean</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">request</span><span class="hl-1"> = </span><span class="hl-6">context</span><span class="hl-1">.</span><span class="hl-0">getRequest</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">token</span><span class="hl-1"> = </span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">params</span><span class="hl-1">?.</span><span class="hl-6">auth</span><span class="hl-1">?.</span><span class="hl-6">token</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (!(</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">token</span><span class="hl-1">))) {</span><br/><span class="hl-1">            </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">MCPUnauthorizedException</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid token&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">boolean</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Your JWT validation logic</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-interceptors" class="tsd-anchor-link">Custom Interceptors<a href="#custom-interceptors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">MCPInterceptor</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">MCPExecutionContext</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">MCPCallHandler</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">CachingInterceptor</span><span class="hl-1"> </span><span class="hl-7">implements</span><span class="hl-1"> </span><span class="hl-8">MCPInterceptor</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Map</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">intercept</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-6">context</span><span class="hl-1">: </span><span class="hl-8">MCPExecutionContext</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">next</span><span class="hl-1">: </span><span class="hl-8">MCPCallHandler</span><span class="hl-1">,</span><br/><span class="hl-1">    ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">key</span><span class="hl-1"> = </span><span class="hl-6">context</span><span class="hl-1">.</span><span class="hl-0">switchToMcp</span><span class="hl-1">().</span><span class="hl-0">getOperationName</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">cache</span><span class="hl-1">.</span><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-6">key</span><span class="hl-1">)) </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">cache</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-6">key</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">next</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">cache</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-6">key</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>üìö <strong><a href="./docs/guards-interceptors.md">Complete Guards &amp; Interceptors Documentation ‚Üí</a></strong></p>
<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="module-options" class="tsd-anchor-link">Module Options<a href="#module-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>MCPModuleOptions</code> interface provides the following configuration options:</p>
<pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-8">MCPModuleOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Server information (required)</span><br/><span class="hl-1">    </span><span class="hl-6">serverInfo</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Server name</span><br/><span class="hl-1">        </span><span class="hl-6">version</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Server version</span><br/><span class="hl-1">        </span><span class="hl-6">capabilities</span><span class="hl-1">?: {</span><br/><span class="hl-1">            </span><span class="hl-3">// Server capabilities (optional)</span><br/><span class="hl-1">            </span><span class="hl-6">tools</span><span class="hl-1">?: {</span><br/><span class="hl-1">                </span><span class="hl-6">listChanged</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">            </span><span class="hl-6">resources</span><span class="hl-1">?: {</span><br/><span class="hl-1">                </span><span class="hl-6">subscribe</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">                </span><span class="hl-6">listChanged</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">            </span><span class="hl-6">prompts</span><span class="hl-1">?: {</span><br/><span class="hl-1">                </span><span class="hl-6">listChanged</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">            </span><span class="hl-6">logging</span><span class="hl-1">?: {};</span><br/><span class="hl-1">            </span><span class="hl-6">experimental</span><span class="hl-1">?: {};</span><br/><span class="hl-1">            </span><span class="hl-6">completions</span><span class="hl-1">?: {};</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    };</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Auto-discovery settings</span><br/><span class="hl-1">    </span><span class="hl-6">autoDiscoverTools</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Default: true</span><br/><span class="hl-1">    </span><span class="hl-6">autoDiscoverResources</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Default: true</span><br/><span class="hl-1">    </span><span class="hl-6">autoDiscoverPrompts</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Default: true</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// HTTP endpoint configuration</span><br/><span class="hl-1">    </span><span class="hl-6">globalPrefix</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Default: &#39;mcp&#39;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Logging configuration</span><br/><span class="hl-1">    </span><span class="hl-6">logLevel</span><span class="hl-1">?: </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;verbose&#39;</span><span class="hl-1">; </span><span class="hl-3">// Default: &#39;info&#39;</span><br/><span class="hl-1">    </span><span class="hl-6">enableLogging</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Deprecated: use logLevel instead</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Error handling</span><br/><span class="hl-1">    </span><span class="hl-0">errorHandler</span><span class="hl-1">?: (</span><span class="hl-6">error</span><span class="hl-1">: </span><span class="hl-8">Error</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-8">any</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="synchronous-configuration" class="tsd-anchor-link">Synchronous Configuration<a href="#synchronous-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Basic module registration with inline options:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-mcp-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">capabilities:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">tools:</span><span class="hl-1"> { </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                    </span><span class="hl-6">resources:</span><span class="hl-1"> { </span><span class="hl-6">subscribe:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                    </span><span class="hl-6">prompts:</span><span class="hl-1"> { </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">globalPrefix:</span><span class="hl-1"> </span><span class="hl-2">&#39;api/mcp&#39;</span><span class="hl-1">, </span><span class="hl-3">// Changes endpoint to /api/mcp</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="asynchronous-configuration" class="tsd-anchor-link">Asynchronous Configuration<a href="#asynchronous-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For dynamic configuration using environment variables or config services:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">ConfigModule</span><span class="hl-1">, </span><span class="hl-6">ConfigService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/config&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">ConfigModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRootAsync</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><span class="hl-6">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-0">useFactory</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">configService</span><span class="hl-1">: </span><span class="hl-8">ConfigService</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">                </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><br/><span class="hl-1">                        </span><span class="hl-2">&#39;MCP_SERVER_NAME&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-2">&#39;default-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    ),</span><br/><span class="hl-1">                    </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-6">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;MCP_SERVER_VERSION&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-6">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;MCP_LOG_LEVEL&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-6">autoDiscoverTools:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">autoDiscoverResources:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">autoDiscoverPrompts:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">            </span><span class="hl-6">inject:</span><span class="hl-1"> [</span><span class="hl-6">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="using-for-async-configuration" class="tsd-anchor-link">Using <code>useClass</code> for Async Configuration<a href="#using-for-async-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPOptionsFactory</span><span class="hl-1">, </span><span class="hl-6">MCPModuleOptions</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">MCPConfigService</span><span class="hl-1"> </span><span class="hl-7">implements</span><span class="hl-1"> </span><span class="hl-8">MCPOptionsFactory</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">createMCPOptions</span><span class="hl-1">(): </span><span class="hl-8">MCPModuleOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-mcp-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRootAsync</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">useClass:</span><span class="hl-1"> </span><span class="hl-6">MCPConfigService</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="feature-module-registration" class="tsd-anchor-link">Feature Module Registration<a href="#feature-module-registration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use <code>forFeature()</code> when you want to use MCP services without exposing HTTP endpoints:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forFeature</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-6">providers:</span><span class="hl-1"> [</span><span class="hl-6">MyService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">FeatureModule</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// This module can inject MCPService, MCPRegistryService, etc.</span><br/><span class="hl-1">    </span><span class="hl-3">// but won&#39;t expose the /mcp HTTP endpoints</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="decorators" class="tsd-anchor-link">Decorators<a href="#decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="" class="tsd-anchor-link"><code>@MCPTool</code></h3><p>Marks a method as an MCP tool. Parameters are passed as a single object.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Tool name (required)</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;    </span><span class="hl-3">// Tool description (required)</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">myTool</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">[key: string]:</span><span class="hl-1"> </span><span class="hl-6">any</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-3">// Implementation</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;get-weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get weather information for a location&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getWeather</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">location:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">weather</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">weatherService</span><span class="hl-1">.</span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">location</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">`Weather in </span><span class="hl-7">${</span><span class="hl-6">params</span><span class="hl-9">.</span><span class="hl-6">location</span><span class="hl-7">}</span><span class="hl-2">: </span><span class="hl-7">${</span><span class="hl-6">weather</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="-1" class="tsd-anchor-link"><code>@MCPToolWithParams</code><a href="#-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Defines a tool with explicit parameter schemas and automatic validation using Zod.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPToolWithParams</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Tool name (required)</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;    </span><span class="hl-3">// Tool description (required)</span><br/><span class="hl-1">  </span><span class="hl-6">parameters</span><span class="hl-1">: </span><span class="hl-6">Array</span><span class="hl-1">&lt;{     </span><span class="hl-3">// Parameter definitions (required)</span><br/><span class="hl-1">    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">type</span><span class="hl-1">: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;array&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">description</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">required</span><span class="hl-1">?: </span><span class="hl-6">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">default</span><span class="hl-1">?: </span><span class="hl-6">any</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">enum</span><span class="hl-1">?: </span><span class="hl-6">any</span><span class="hl-1">[];</span><br/><span class="hl-1">  }&gt;;</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">myTool</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">[key: string]:</span><span class="hl-1"> </span><span class="hl-6">any</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-3">// Implementation</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPToolWithParams</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;search&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Search for items&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;query&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Search query&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;limit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Maximum results&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">default:</span><span class="hl-1"> </span><span class="hl-13">10</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;sortBy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Sort field&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">enum:</span><span class="hl-1"> [</span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;date&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;relevance&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">query:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">; </span><span class="hl-6">limit</span><span class="hl-1">?: </span><span class="hl-6">number</span><span class="hl-1">; </span><span class="hl-6">sortBy</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">searchService</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="-2" class="tsd-anchor-link"><code>@MCPResource</code><a href="#-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Defines a static resource with a fixed URI.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPResource</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;            </span><span class="hl-3">// Resource URI (required)</span><br/><span class="hl-1">  </span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Resource name (required)</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;   </span><span class="hl-3">// Resource description</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;      </span><span class="hl-3">// MIME type</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getResource</span><span class="hl-1">(): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-6">uri</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">blob</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">}&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">// Return resource content</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPResource</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;config://app/settings&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;App Settings&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Application configuration&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getSettings</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">settings</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">configService</span><span class="hl-1">.</span><span class="hl-0">getAll</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;config://app/settings&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-6">settings</span><span class="hl-1">, </span><span class="hl-7">null</span><span class="hl-1">, </span><span class="hl-13">2</span><span class="hl-1">),</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="-3" class="tsd-anchor-link"><code>@MCPResourceTemplate</code><a href="#-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Defines a dynamic resource with URI template for pattern matching.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPResourceTemplate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">uriTemplate:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;    </span><span class="hl-3">// URI template with {variables} (required)</span><br/><span class="hl-1">  </span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Resource name (required)</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;   </span><span class="hl-3">// Resource description</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;      </span><span class="hl-3">// MIME type</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getResource</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">: { </span><span class="hl-6">[key: string]:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1"> }): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-6">uri</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">blob</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">}&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">// Variables are automatically extracted from the URI</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPResourceTemplate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">uriTemplate:</span><span class="hl-1"> </span><span class="hl-2">&#39;user:///{userId}/profile&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;User Profile&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get user profile by ID&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getUserProfile</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">: { </span><span class="hl-6">userId:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">profile</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">userService</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">userId</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">`user:///</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">userId</span><span class="hl-7">}</span><span class="hl-2">/profile`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-6">profile</span><span class="hl-1">),</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>URI Template Syntax:</strong></p>
<ul>
<li>Use <code>{variableName}</code> to define variables</li>
<li>Example: <code>file:///{folder}/{filename}</code> matches <code>file:///documents/report.pdf</code></li>
<li>Variables are extracted and passed to your handler method</li>
</ul>
<h3 id="-4" class="tsd-anchor-link"><code>@MCPPrompt</code><a href="#-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Defines a prompt template for AI interactions.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Prompt name (required)</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;   </span><span class="hl-3">// Prompt description</span><br/><span class="hl-1">  </span><span class="hl-7">arguments</span><span class="hl-1">?: </span><span class="hl-6">Array</span><span class="hl-1">&lt;{     </span><span class="hl-3">// Prompt arguments</span><br/><span class="hl-1">    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">description</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">required</span><span class="hl-1">?: </span><span class="hl-6">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  }&gt;;</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getPrompt</span><span class="hl-1">(</span><span class="hl-6">args</span><span class="hl-1">: { </span><span class="hl-6">[key: string]:</span><span class="hl-1"> </span><span class="hl-6">any</span><span class="hl-1"> }): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">Array</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-6">role</span><span class="hl-1">: </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;assistant&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">content</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">type</span><span class="hl-1">: </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;image&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;resource&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">text</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">data</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}&gt;&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">// Return prompt messages</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;explain-code&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Generate a prompt to explain code&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">arguments:</span><span class="hl-1"> [</span><br/><span class="hl-1">    { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;code&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Code to explain&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;language&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Programming language&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;level&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explanation level&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1"> },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">explainCode</span><span class="hl-1">(</span><span class="hl-6">args</span><span class="hl-1">: { </span><span class="hl-6">code:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">; </span><span class="hl-6">language</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">; </span><span class="hl-6">level</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">level</span><span class="hl-1"> = </span><span class="hl-6">args</span><span class="hl-1">.</span><span class="hl-6">level</span><span class="hl-1"> || </span><span class="hl-2">&#39;intermediate&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`Explain this </span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">language</span><span class="hl-7">}</span><span class="hl-2"> code at a </span><span class="hl-7">${</span><span class="hl-6">level</span><span class="hl-7">}</span><span class="hl-2"> level:</span><span class="hl-11">\n\n</span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">code</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="versioning-deprecation" class="tsd-anchor-link">Versioning &amp; Deprecation<a href="#versioning-deprecation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The library supports versioning and deprecation tracking for tools, resources, and prompts. This helps you manage API evolution and provide clear migration paths for consumers.</p>
<h3 id="version-tracking" class="tsd-anchor-link">Version Tracking<a href="#version-tracking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Add a <code>version</code> field to any decorator to track the version of your MCP items:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;data-processor&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Process data with advanced algorithms&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">schema:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">() }),</span><br/><span class="hl-1">    </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0.0&#39;</span><span class="hl-1">, </span><span class="hl-3">// Add version information</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">processData</span><span class="hl-1">({ </span><span class="hl-6">data</span><span class="hl-1"> }: { </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">processed:</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">processV2</span><span class="hl-1">(</span><span class="hl-6">data</span><span class="hl-1">) };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="deprecation-support" class="tsd-anchor-link">Deprecation Support<a href="#deprecation-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Mark items as deprecated with detailed migration information:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;legacy-calculator&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Old calculation method&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">schema:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-6">value:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">number</span><span class="hl-1">() }),</span><br/><span class="hl-1">    </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">deprecation:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">deprecated:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;This tool uses outdated algorithms&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">since:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.5.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">removeIn:</span><span class="hl-1"> </span><span class="hl-2">&#39;3.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">replacedBy:</span><span class="hl-1"> </span><span class="hl-2">&#39;advanced-calculator&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">})</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">legacyCalculate</span><span class="hl-1">({ </span><span class="hl-6">value</span><span class="hl-1"> }: { </span><span class="hl-6">value:</span><span class="hl-1"> </span><span class="hl-6">number</span><span class="hl-1"> }) {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1"> * </span><span class="hl-13">2</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="deprecation-options" class="tsd-anchor-link">Deprecation Options<a href="#deprecation-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">deprecation</span><span class="hl-1">?: {</span><br/><span class="hl-1">  </span><span class="hl-6">deprecated:</span><span class="hl-1"> </span><span class="hl-6">boolean</span><span class="hl-1">;      </span><span class="hl-3">// Whether the item is deprecated (required)</span><br/><span class="hl-1">  </span><span class="hl-6">message</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;         </span><span class="hl-3">// Custom deprecation message</span><br/><span class="hl-1">  </span><span class="hl-6">since</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;           </span><span class="hl-3">// Version when deprecated</span><br/><span class="hl-1">  </span><span class="hl-6">removeIn</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;        </span><span class="hl-3">// Version when it will be removed</span><br/><span class="hl-1">  </span><span class="hl-6">replacedBy</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;      </span><span class="hl-3">// Name of replacement item</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="runtime-behavior" class="tsd-anchor-link">Runtime Behavior<a href="#runtime-behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When deprecated items are used:</p>
<ol>
<li><strong>Automatic Warnings</strong>: The library logs a warning when a deprecated item is called</li>
<li><strong>Client Information</strong>: Deprecation details are included in list responses</li>
<li><strong>Continued Functionality</strong>: Deprecated items still work normally</li>
</ol>
<p><strong>Example Deprecation Warning:</strong></p>
<pre><code><span class="hl-1">[</span><span class="hl-6">Warn</span><span class="hl-1">] </span><span class="hl-6">Tool</span><span class="hl-1"> </span><span class="hl-2">&#39;legacy-calculator&#39;</span><span class="hl-1"> </span><span class="hl-6">is</span><span class="hl-1"> </span><span class="hl-6">deprecated</span><span class="hl-1">. </span><span class="hl-6">This</span><span class="hl-1"> </span><span class="hl-6">tool</span><span class="hl-1"> </span><span class="hl-6">uses</span><span class="hl-1"> </span><span class="hl-6">outdated</span><span class="hl-1"> </span><span class="hl-6">algorithms</span><span class="hl-1">. </span><span class="hl-6">Deprecated</span><span class="hl-1"> </span><span class="hl-6">since</span><span class="hl-1"> </span><span class="hl-13">1.5</span><span class="hl-1">.</span><span class="hl-13">0.</span><span class="hl-1"> </span><span class="hl-6">Will</span><span class="hl-1"> </span><span class="hl-6">be</span><span class="hl-1"> </span><span class="hl-6">removed</span><span class="hl-1"> </span><span class="hl-7">in</span><span class="hl-1"> </span><span class="hl-13">3.0</span><span class="hl-1">.</span><span class="hl-13">0.</span><span class="hl-1"> </span><span class="hl-6">Use</span><span class="hl-1"> </span><span class="hl-2">&#39;advanced-calculator&#39;</span><span class="hl-1"> </span><span class="hl-6">instead</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>

<h3 id="list-response-with-versiondeprecation" class="tsd-anchor-link">List Response with Version/Deprecation<a href="#list-response-with-versiondeprecation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When clients list tools, resources, or prompts, they receive version and deprecation information:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;jsonrpc&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-13">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;result&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;tools&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;advanced-calculator&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Modern calculation algorithms&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;inputSchema&quot;</span><span class="hl-1">: {</span><span class="hl-14">...</span><span class="hl-1">},</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2.0.0&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;legacy-calculator&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Old calculation method&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;inputSchema&quot;</span><span class="hl-1">: {</span><span class="hl-14">...</span><span class="hl-1">},</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;deprecated&quot;</span><span class="hl-1">: </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;deprecationMessage&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;This tool uses outdated algorithms. Deprecated since 1.5.0. Will be removed in 3.0.0. Use &#39;advanced-calculator&#39; instead.&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="full-example-with-all-mcp-types" class="tsd-anchor-link">Full Example with All MCP Types<a href="#full-example-with-all-mcp-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">VersionedService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Current tool</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;current-api&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Latest API version&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">schema:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-6">input:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">() }),</span><br/><span class="hl-1">        </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;3.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">currentApi</span><span class="hl-1">({ </span><span class="hl-6">input</span><span class="hl-1"> }: { </span><span class="hl-6">input</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">result:</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">processV3</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">) };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Deprecated tool</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPTool</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;legacy-api&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Legacy API endpoint&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">schema:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-6">input:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">() }),</span><br/><span class="hl-1">        </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">deprecation:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">deprecated:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Use the new API for better performance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">since:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">removeIn:</span><span class="hl-1"> </span><span class="hl-2">&#39;4.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">replacedBy:</span><span class="hl-1"> </span><span class="hl-2">&#39;current-api&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">legacyApi</span><span class="hl-1">({ </span><span class="hl-6">input</span><span class="hl-1"> }: { </span><span class="hl-6">input</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">result:</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">processV1</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">) };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Deprecated resource</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPResource</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;file://old-config&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Old Configuration&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Legacy configuration format&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">deprecation:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">deprecated:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Configuration format has been updated&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">since:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">replacedBy:</span><span class="hl-1"> </span><span class="hl-2">&#39;file://new-config&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getOldConfig</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;file://old-config&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">({ </span><span class="hl-6">legacy:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> }),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Deprecated prompt</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;old-prompt-template&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Legacy prompt structure&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">schema:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-6">topic:</span><span class="hl-1"> </span><span class="hl-6">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">() }),</span><br/><span class="hl-1">        </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">deprecation:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">deprecated:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Prompt format has been improved&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">since:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.5.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">removeIn:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">replacedBy:</span><span class="hl-1"> </span><span class="hl-2">&#39;new-prompt-template&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getOldPrompt</span><span class="hl-1">({ </span><span class="hl-6">topic</span><span class="hl-1"> }: { </span><span class="hl-6">topic</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`Tell me about </span><span class="hl-7">${</span><span class="hl-6">topic</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="best-practices" class="tsd-anchor-link">Best Practices<a href="#best-practices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li><strong>Semantic Versioning</strong>: Use semver format (e.g., <code>1.0.0</code>, <code>2.1.3</code>) for consistency</li>
<li><strong>Clear Messages</strong>: Provide helpful deprecation messages explaining why and what to use instead</li>
<li><strong>Grace Period</strong>: Give users time to migrate by specifying <code>removeIn</code> version</li>
<li><strong>Documentation</strong>: Always specify <code>replacedBy</code> when there's a direct replacement</li>
<li><strong>Gradual Migration</strong>: Don't remove deprecated items immediately; keep them for several versions</li>
</ol>
<h2 id="transport-options" class="tsd-anchor-link">Transport Options<a href="#transport-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="http-transport-default" class="tsd-anchor-link">HTTP Transport (Default)<a href="#http-transport-default" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Once configured, your NestJS application exposes JSON-RPC endpoints for MCP communication:</p>
<p><strong>Endpoints:</strong></p>
<ul>
<li><strong>POST</strong> <code>/mcp</code> - Main MCP JSON-RPC endpoint</li>
<li><strong>POST</strong> <code>/mcp/batch</code> - Batch request endpoint (multiple requests in one call)</li>
</ul>
<p><strong>Available Methods:</strong></p>
<ul>
<li><code>initialize</code> - Initialize the MCP connection</li>
<li><code>tools/list</code> - List all available tools</li>
<li><code>tools/call</code> - Call a specific tool</li>
<li><code>resources/list</code> - List all available resources</li>
<li><code>resources/read</code> - Read a specific resource</li>
<li><code>prompts/list</code> - List all available prompts</li>
<li><code>prompts/get</code> - Get a specific prompt</li>
<li><code>ping</code> - Health check</li>
</ul>
<p><strong>Example Requests:</strong></p>
<pre><code class="bash"><span class="hl-3"># List all tools</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{</span><br/><span class="hl-2">    &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br/><span class="hl-2">    &quot;id&quot;: 1,</span><br/><span class="hl-2">    &quot;method&quot;: &quot;tools/list&quot;</span><br/><span class="hl-2">  }&#39;</span><br/><br/><span class="hl-3"># Call a tool</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{</span><br/><span class="hl-2">    &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br/><span class="hl-2">    &quot;id&quot;: 2,</span><br/><span class="hl-2">    &quot;method&quot;: &quot;tools/call&quot;,</span><br/><span class="hl-2">    &quot;params&quot;: {</span><br/><span class="hl-2">      &quot;name&quot;: &quot;add&quot;,</span><br/><span class="hl-2">      &quot;arguments&quot;: {</span><br/><span class="hl-2">        &quot;a&quot;: 5,</span><br/><span class="hl-2">        &quot;b&quot;: 3</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }&#39;</span><br/><br/><span class="hl-3"># Batch request</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp/batch</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;[</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br/><span class="hl-2">      &quot;id&quot;: 1,</span><br/><span class="hl-2">      &quot;method&quot;: &quot;tools/list&quot;</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br/><span class="hl-2">      &quot;id&quot;: 2,</span><br/><span class="hl-2">      &quot;method&quot;: &quot;resources/list&quot;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  ]&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="websocket-transport" class="tsd-anchor-link">WebSocket Transport<a href="#websocket-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Real-time bidirectional communication using WebSockets. Perfect for:</p>
<ul>
<li>Browser extensions</li>
<li>Real-time applications</li>
<li>Interactive UI clients</li>
<li>Long-lived connections</li>
</ul>
<p><strong>Installation:</strong></p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ws</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">@types/node</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1">, </span><span class="hl-6">MCPTransportType</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">WEBSOCKET</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">3001</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;/mcp-ws&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">maxConnections:</span><span class="hl-1"> </span><span class="hl-13">100</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">perMessageDeflate:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">maxPayload:</span><span class="hl-1"> </span><span class="hl-13">10</span><span class="hl-1"> * </span><span class="hl-13">1024</span><span class="hl-1"> * </span><span class="hl-13">1024</span><span class="hl-1">, </span><span class="hl-3">// 10MB</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Client Example (JavaScript):</strong></p>
<pre><code class="javascript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">ws</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">WebSocket</span><span class="hl-1">(</span><span class="hl-2">&#39;ws://localhost:3001/mcp-ws&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">ws</span><span class="hl-1">.</span><span class="hl-0">onopen</span><span class="hl-1"> = () </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Send MCP request</span><br/><span class="hl-1">    </span><span class="hl-6">ws</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">jsonrpc:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-13">1</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;tools/list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-6">ws</span><span class="hl-1">.</span><span class="hl-0">onmessage</span><span class="hl-1"> = (</span><span class="hl-6">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">response</span><span class="hl-1"> = </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-6">event</span><span class="hl-1">.</span><span class="hl-6">data</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Response:&#39;</span><span class="hl-1">, </span><span class="hl-6">response</span><span class="hl-1">);</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="server-sent-events-sse-transport" class="tsd-anchor-link">Server-Sent Events (SSE) Transport<a href="#server-sent-events-sse-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>One-way streaming from server to client. Perfect for:</p>
<ul>
<li>Progressive updates</li>
<li>Event notifications</li>
<li>Browser-based applications</li>
<li>Lightweight real-time updates</li>
</ul>
<p><strong>Installation:</strong></p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">rxjs</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">@types/express</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1">, </span><span class="hl-6">MCPTransportType</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">SSE</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-6">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;/mcp-sse&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">heartbeatInterval:</span><span class="hl-1"> </span><span class="hl-13">30000</span><span class="hl-1">, </span><span class="hl-3">// 30s</span><br/><span class="hl-1">                        </span><span class="hl-6">retryInterval:</span><span class="hl-1"> </span><span class="hl-13">3000</span><span class="hl-1">, </span><span class="hl-3">// 3s</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Client Example (JavaScript):</strong></p>
<pre><code class="javascript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">eventSource</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">EventSource</span><span class="hl-1">(</span><span class="hl-2">&#39;http://localhost:3000/mcp-sse&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">eventSource</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;mcp-response&#39;</span><span class="hl-1">, (</span><span class="hl-6">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">response</span><span class="hl-1"> = </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-6">event</span><span class="hl-1">.</span><span class="hl-6">data</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Response:&#39;</span><span class="hl-1">, </span><span class="hl-6">response</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">eventSource</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;heartbeat&#39;</span><span class="hl-1">, (</span><span class="hl-6">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Heartbeat:&#39;</span><span class="hl-1">, </span><span class="hl-6">event</span><span class="hl-1">.</span><span class="hl-6">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Send request via POST to trigger response</span><br/><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-2">&#39;http://localhost:3000/mcp-sse&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;POST&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">headers:</span><span class="hl-1"> { </span><span class="hl-2">&#39;Content-Type&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-6">body:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">jsonrpc:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-13">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;tools/list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="redis-transport" class="tsd-anchor-link">Redis Transport<a href="#redis-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Pub/Sub communication via Redis. Perfect for:</p>
<ul>
<li>Multi-process clusters</li>
<li>Horizontal scaling</li>
<li>Microservices architecture</li>
<li>Distributed systems</li>
</ul>
<p><strong>Installation:</strong></p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ioredis</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1">, </span><span class="hl-6">MCPTransportType</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">REDIS</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-6">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">6379</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">password:</span><span class="hl-1"> </span><span class="hl-2">&#39;your-password&#39;</span><span class="hl-1">, </span><span class="hl-3">// Optional</span><br/><span class="hl-1">                        </span><span class="hl-6">db:</span><span class="hl-1"> </span><span class="hl-13">0</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">channelPrefix:</span><span class="hl-1"> </span><span class="hl-2">&#39;mcp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">requestChannel:</span><span class="hl-1"> </span><span class="hl-2">&#39;requests&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">responseChannel:</span><span class="hl-1"> </span><span class="hl-2">&#39;responses&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Usage:</strong></p>
<p>The Redis adapter uses pub/sub channels:</p>
<ul>
<li><strong>Requests</strong>: Published to <code>mcp:requests</code></li>
<li><strong>Responses</strong>: Published to <code>mcp:responses:{clientId}</code></li>
<li><strong>Broadcasts</strong>: Published to <code>mcp:broadcast</code></li>
</ul>
<p><strong>Client Example (Node.js with ioredis):</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-6">Redis</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ioredis&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">publisher</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Redis</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">subscriber</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Redis</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">clientId</span><span class="hl-1"> = </span><span class="hl-2">&#39;client-123&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Subscribe to responses</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">subscriber</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-2">`mcp:responses:</span><span class="hl-7">${</span><span class="hl-6">clientId</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-6">subscriber</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;message&#39;</span><span class="hl-1">, (</span><span class="hl-6">channel</span><span class="hl-1">, </span><span class="hl-6">message</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">response</span><span class="hl-1"> = </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-6">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Response:&#39;</span><span class="hl-1">, </span><span class="hl-6">response</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Send request</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">publisher</span><span class="hl-1">.</span><span class="hl-0">publish</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;mcp:requests&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">jsonrpc:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-13">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;tools/list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">clientId:</span><span class="hl-1"> </span><span class="hl-6">clientId</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="grpc-transport" class="tsd-anchor-link">gRPC Transport<a href="#grpc-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>High-performance RPC with bidirectional streaming. Perfect for:</p>
<ul>
<li>Microservices</li>
<li>High-throughput systems</li>
<li>Type-safe communication</li>
<li>Cross-language support</li>
</ul>
<p><strong>Installation:</strong></p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@grpc/grpc-js</span><span class="hl-1"> </span><span class="hl-2">@grpc/proto-loader</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1">, </span><span class="hl-6">MCPTransportType</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">GRPC</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">50051</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">secure:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">, </span><span class="hl-3">// Set true for TLS</span><br/><span class="hl-1">                        </span><span class="hl-3">// For TLS:</span><br/><span class="hl-1">                        </span><span class="hl-3">// secure: true,</span><br/><span class="hl-1">                        </span><span class="hl-3">// credentials: {</span><br/><span class="hl-1">                        </span><span class="hl-3">//     rootCerts: fs.readFileSync(&#39;ca.pem&#39;),</span><br/><span class="hl-1">                        </span><span class="hl-3">//     privateKey: fs.readFileSync(&#39;server-key.pem&#39;),</span><br/><span class="hl-1">                        </span><span class="hl-3">//     certChain: fs.readFileSync(&#39;server-cert.pem&#39;),</span><br/><span class="hl-1">                        </span><span class="hl-3">// },</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Proto File Location:</strong></p>
<p>The proto file is included at <code>node_modules/@hmake98/nestjs-mcp/dist/transports/proto/mcp.proto</code></p>
<p><strong>Client Example (Node.js):</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">grpc</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@grpc/grpc-js&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">protoLoader</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@grpc/proto-loader&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">packageDefinition</span><span class="hl-1"> = </span><span class="hl-6">protoLoader</span><span class="hl-1">.</span><span class="hl-0">loadSync</span><span class="hl-1">(</span><span class="hl-2">&#39;mcp.proto&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">proto</span><span class="hl-1"> = </span><span class="hl-6">grpc</span><span class="hl-1">.</span><span class="hl-0">loadPackageDefinition</span><span class="hl-1">(</span><span class="hl-6">packageDefinition</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">client</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-6">proto</span><span class="hl-1">.</span><span class="hl-6">mcp</span><span class="hl-1">.</span><span class="hl-0">MCPService</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">grpc</span><span class="hl-1">.</span><span class="hl-6">credentials</span><span class="hl-1">.</span><span class="hl-0">createInsecure</span><span class="hl-1">(),</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Unary call</span><br/><span class="hl-6">client</span><span class="hl-1">.</span><span class="hl-0">Call</span><span class="hl-1">(</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-6">jsonrpc:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">string_id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;tools/list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">params_json:</span><span class="hl-1"> </span><span class="hl-2">&#39;{}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    (</span><span class="hl-6">err</span><span class="hl-1">, </span><span class="hl-6">response</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">err</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-6">err</span><span class="hl-1">);</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">result</span><span class="hl-1"> = </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-6">response</span><span class="hl-1">.</span><span class="hl-6">result_json</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tools:&#39;</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Bidirectional streaming</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">stream</span><span class="hl-1"> = </span><span class="hl-6">client</span><span class="hl-1">.</span><span class="hl-0">Stream</span><span class="hl-1">();</span><br/><br/><span class="hl-6">stream</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-6">response</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Response:&#39;</span><span class="hl-1">, </span><span class="hl-6">response</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">stream</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">jsonrpc:</span><span class="hl-1"> </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">string_id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;tools/list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">params_json:</span><span class="hl-1"> </span><span class="hl-2">&#39;{}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="multiple-transports" class="tsd-anchor-link">Multiple Transports<a href="#multiple-transports" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can enable multiple transports simultaneously:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1">, </span><span class="hl-6">MCPTransportType</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;multi-transport-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">WEBSOCKET</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> { </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">3001</span><span class="hl-1"> },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">SSE</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> { </span><span class="hl-6">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;/mcp-sse&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">REDIS</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-6">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">6379</span><span class="hl-1">,</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">MCPTransportType</span><span class="hl-1">.</span><span class="hl-10">GRPC</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">options:</span><span class="hl-1"> { </span><span class="hl-6">port:</span><span class="hl-1"> </span><span class="hl-13">50051</span><span class="hl-1"> },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="transport-comparison" class="tsd-anchor-link">Transport Comparison<a href="#transport-comparison" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Transport</th>
<th>Direction</th>
<th>Use Case</th>
<th>Performance</th>
<th>Complexity</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HTTP</strong></td>
<td>Request/Response</td>
<td>REST APIs, Simple integration</td>
<td>Good</td>
<td>Low</td>
</tr>
<tr>
<td><strong>WebSocket</strong></td>
<td>Bidirectional</td>
<td>Real-time apps, Browser clients</td>
<td>Excellent</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>SSE</strong></td>
<td>Server ‚Üí Client</td>
<td>Live updates, Notifications</td>
<td>Good</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Redis</strong></td>
<td>Pub/Sub</td>
<td>Multi-process, Distributed</td>
<td>Very Good</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>gRPC</strong></td>
<td>Bidirectional</td>
<td>Microservices, High-throughput</td>
<td>Excellent</td>
<td>High</td>
</tr>
<tr>
<td><strong>stdio</strong></td>
<td>Bidirectional</td>
<td>CLI tools, Desktop apps</td>
<td>Good</td>
<td>Low</td>
</tr>
</tbody>
</table>
<h3 id="stdio-transport" class="tsd-anchor-link">Stdio Transport<a href="#stdio-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For CLI tools or desktop applications (like Claude Desktop), use stdio transport:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1">, </span><span class="hl-6">OnApplicationBootstrap</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPSDKService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppService</span><span class="hl-1"> </span><span class="hl-7">implements</span><span class="hl-1"> </span><span class="hl-8">OnApplicationBootstrap</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-6">mcpSdkService</span><span class="hl-1">: </span><span class="hl-8">MCPSDKService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">onApplicationBootstrap</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-3">// Connect to stdio transport for CLI/desktop app usage</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">mcpSdkService</span><span class="hl-1">.</span><span class="hl-0">connectStdio</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This enables your MCP server to communicate via standard input/output, which is useful for:</p>
<ul>
<li>Claude Desktop integration</li>
<li>Command-line tools</li>
<li>Local MCP clients</li>
<li>Development and testing</li>
</ul>
<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="services" class="tsd-anchor-link">Services<a href="#services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="mcpservice" class="tsd-anchor-link">MCPService<a href="#mcpservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Core service for handling MCP protocol requests.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">MyService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-6">mcpService</span><span class="hl-1">: </span><span class="hl-8">MCPService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">handleCustomRequest</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-8">MCPRequest</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">mcpService</span><span class="hl-1">.</span><span class="hl-0">handleRequest</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Methods:</strong></p>
<ul>
<li><code>handleRequest(request: MCPRequest): Promise&lt;MCPResponse&gt;</code> - Process MCP protocol requests</li>
<li><code>handleBatchRequest(requests: MCPRequest[]): Promise&lt;MCPResponse[]&gt;</code> - Process multiple requests</li>
</ul>
<h4 id="mcpregistryservice" class="tsd-anchor-link">MCPRegistryService<a href="#mcpregistryservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Registry for managing tools, resources, and prompts.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPRegistryService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">MyService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-6">registryService</span><span class="hl-1">: </span><span class="hl-8">MCPRegistryService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-0">listTools</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">registryService</span><span class="hl-1">.</span><span class="hl-0">getTools</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">getTool</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">registryService</span><span class="hl-1">.</span><span class="hl-0">getTool</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Methods:</strong></p>
<ul>
<li><code>registerTool(tool: MCPToolDefinition): void</code> - Register a new tool</li>
<li><code>getTool(name: string): MCPToolDefinition | undefined</code> - Get a tool by name</li>
<li><code>getTools(): MCPToolDefinition[]</code> - Get all registered tools</li>
<li><code>registerResource(resource: DiscoveredMCPResource): void</code> - Register a new resource</li>
<li><code>getResource(uri: string): DiscoveredMCPResource | undefined</code> - Get a resource by URI</li>
<li><code>getResources(): DiscoveredMCPResource[]</code> - Get all registered resources</li>
<li><code>registerPrompt(prompt: DiscoveredMCPPrompt): void</code> - Register a new prompt</li>
<li><code>getPrompt(name: string): DiscoveredMCPPrompt | undefined</code> - Get a prompt by name</li>
<li><code>getPrompts(): DiscoveredMCPPrompt[]</code> - Get all registered prompts</li>
</ul>
<h4 id="mcpsdkservice" class="tsd-anchor-link">MCPSDKService<a href="#mcpsdkservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Low-level service wrapping the official <code>@modelcontextprotocol/sdk</code>.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPSDKService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">MyService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-6">sdkService</span><span class="hl-1">: </span><span class="hl-8">MCPSDKService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">connectToStdio</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">sdkService</span><span class="hl-1">.</span><span class="hl-0">connectStdio</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Methods:</strong></p>
<ul>
<li><code>connectStdio(): Promise&lt;void&gt;</code> - Connect to stdio transport</li>
<li><code>getServer(): McpServer</code> - Get the underlying McpServer instance</li>
</ul>
<h4 id="mcpdiscoveryservice" class="tsd-anchor-link">MCPDiscoveryService<a href="#mcpdiscoveryservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Service for discovering decorated methods.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPDiscoveryService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">MyService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-6">discoveryService</span><span class="hl-1">: </span><span class="hl-8">MCPDiscoveryService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-0">discoverAll</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">tools</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">discoveryService</span><span class="hl-1">.</span><span class="hl-0">discoverTools</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">resources</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">discoveryService</span><span class="hl-1">.</span><span class="hl-0">discoverResources</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">prompts</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-6">discoveryService</span><span class="hl-1">.</span><span class="hl-0">discoverPrompts</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">tools</span><span class="hl-1">, </span><span class="hl-6">resources</span><span class="hl-1">, </span><span class="hl-6">prompts</span><span class="hl-1"> };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Methods:</strong></p>
<ul>
<li><code>discoverTools(): MCPToolDefinition[]</code> - Discover all tools</li>
<li><code>discoverResources(): DiscoveredMCPResource[]</code> - Discover all resources</li>
<li><code>discoverPrompts(): DiscoveredMCPPrompt[]</code> - Discover all prompts</li>
</ul>
<h3 id="types-and-interfaces" class="tsd-anchor-link">Types and Interfaces<a href="#types-and-interfaces" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="mcprequest" class="tsd-anchor-link">MCPRequest<a href="#mcprequest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-8">MCPRequest</span><span class="hl-1">&lt;</span><span class="hl-8">P</span><span class="hl-1"> = </span><span class="hl-8">JSONObject</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-6">jsonrpc</span><span class="hl-1">: </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> | </span><span class="hl-8">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">method</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">params</span><span class="hl-1">?: </span><span class="hl-8">P</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="mcpresponse" class="tsd-anchor-link">MCPResponse<a href="#mcpresponse" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-8">MCPResponse</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">jsonrpc</span><span class="hl-1">: </span><span class="hl-2">&#39;2.0&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> | </span><span class="hl-8">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">result</span><span class="hl-1">?: </span><span class="hl-8">unknown</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-8">MCPError</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="mcptoolresult" class="tsd-anchor-link">MCPToolResult<a href="#mcptoolresult" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-8">MCPToolResult</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">content</span><span class="hl-1">: </span><span class="hl-8">Array</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">        </span><span class="hl-6">type</span><span class="hl-1">: </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;image&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;resource&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-6">text</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-6">data</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-6">mimeType</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">    }&gt;;</span><br/><span class="hl-1">    </span><span class="hl-6">isError</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="architecture" class="tsd-anchor-link">Architecture<a href="#architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This package integrates the official <code>@modelcontextprotocol/sdk</code> v1.21.1 with NestJS using a layered architecture:</p>
<pre><code><span class="hl-1">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</span><br/><span class="hl-1">‚îÇ         </span><span class="hl-6">NestJS</span><span class="hl-1"> </span><span class="hl-6">Application</span><span class="hl-1">              ‚îÇ</span><br/><span class="hl-1">‚îÇ  (</span><span class="hl-6">Your</span><span class="hl-1"> </span><span class="hl-6">controllers</span><span class="hl-1">, </span><span class="hl-6">services</span><span class="hl-1">, </span><span class="hl-6">etc</span><span class="hl-1">.)     ‚îÇ</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span><br/><span class="hl-1">                  ‚îÇ</span><br/><span class="hl-1">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</span><br/><span class="hl-1">‚îÇ          </span><span class="hl-6">MCPModule</span><span class="hl-1">                      ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ    @</span><span class="hl-6">MCPTool</span><span class="hl-1">                     ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ    @</span><span class="hl-6">MCPResource</span><span class="hl-1">                 ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ    @</span><span class="hl-6">MCPPrompt</span><span class="hl-1">                   ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ    (</span><span class="hl-6">Decorators</span><span class="hl-1">)                 ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îÇ                 ‚îÇ                       ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  </span><span class="hl-6">MCPDiscoveryService</span><span class="hl-1">            ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  (</span><span class="hl-6">Auto</span><span class="hl-1">-</span><span class="hl-6">discover</span><span class="hl-1"> </span><span class="hl-6">decorated</span><span class="hl-1">       ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ   </span><span class="hl-6">methods</span><span class="hl-1"> </span><span class="hl-6">at</span><span class="hl-1"> </span><span class="hl-6">startup</span><span class="hl-1">)           ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îÇ                 ‚îÇ                       ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  </span><span class="hl-6">MCPRegistryService</span><span class="hl-1">             ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  (</span><span class="hl-6">Central</span><span class="hl-1"> </span><span class="hl-6">registry</span><span class="hl-1"> </span><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">tools</span><span class="hl-1">,   ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ   </span><span class="hl-6">resources</span><span class="hl-1">, </span><span class="hl-6">and</span><span class="hl-1"> </span><span class="hl-6">prompts</span><span class="hl-1">)       ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îÇ                 ‚îÇ                       ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  </span><span class="hl-6">MCPSDKService</span><span class="hl-1">                  ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  (</span><span class="hl-6">Wraps</span><span class="hl-1"> @</span><span class="hl-6">modelcontextprotocol</span><span class="hl-1">/  ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ   </span><span class="hl-6">sdk</span><span class="hl-1"> </span><span class="hl-6">McpServer</span><span class="hl-1">)                ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îÇ                 ‚îÇ                       ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  </span><span class="hl-6">MCPService</span><span class="hl-1">                     ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  (</span><span class="hl-10">HTTP</span><span class="hl-1">/</span><span class="hl-10">JSON</span><span class="hl-1">-</span><span class="hl-10">RPC</span><span class="hl-1"> </span><span class="hl-6">handler</span><span class="hl-1">)        ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îÇ                 ‚îÇ                       ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  </span><span class="hl-6">MCPController</span><span class="hl-1">                  ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ  (</span><span class="hl-10">HTTP</span><span class="hl-1"> </span><span class="hl-6">endpoints</span><span class="hl-1">: /</span><span class="hl-6">mcp</span><span class="hl-1">,         ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îÇ   /</span><span class="hl-6">mcp</span><span class="hl-1">/</span><span class="hl-6">batch</span><span class="hl-1">)                   ‚îÇ   ‚îÇ</span><br/><span class="hl-1">‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span><br/><span class="hl-1">                  ‚îÇ</span><br/><span class="hl-1">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</span><br/><span class="hl-1">‚îÇ   @</span><span class="hl-6">modelcontextprotocol</span><span class="hl-1">/</span><span class="hl-6">sdk</span><span class="hl-1">             ‚îÇ</span><br/><span class="hl-1">‚îÇ   (</span><span class="hl-6">Official</span><span class="hl-1"> </span><span class="hl-10">MCP</span><span class="hl-1"> </span><span class="hl-10">SDK</span><span class="hl-1"> </span><span class="hl-6">v1</span><span class="hl-1">.</span><span class="hl-13">21.1</span><span class="hl-1">)            ‚îÇ</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span>
</code><button>Copy</button></pre>

<h3 id="component-responsibilities" class="tsd-anchor-link">Component Responsibilities<a href="#component-responsibilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Decorators</strong>: Mark methods for auto-discovery</li>
<li><strong>MCPDiscoveryService</strong>: Scans providers for decorated methods using NestJS's <code>DiscoveryService</code>, <code>MetadataScanner</code>, and <code>Reflector</code></li>
<li><strong>MCPRegistryService</strong>: In-memory registry storing tool, resource, and prompt definitions</li>
<li><strong>MCPSDKService</strong>: Wraps the official SDK's <code>McpServer</code> class, handles Zod schema conversion and validation</li>
<li><strong>MCPService</strong>: Provides HTTP/JSON-RPC compatibility layer for web clients</li>
<li><strong>MCPController</strong>: Exposes HTTP endpoints (<code>/mcp</code>, <code>/mcp/batch</code>) for protocol communication</li>
<li><strong>MCPModule</strong>: Dynamic module orchestrating all services and handling configuration</li>
</ul>
<h3 id="sdk-integration" class="tsd-anchor-link">SDK Integration<a href="#sdk-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The package uses the modern <code>McpServer</code> API from <code>@modelcontextprotocol/sdk</code>:</p>
<ul>
<li>‚úÖ High-level API with clean registration methods</li>
<li>‚úÖ Built-in Zod validation for type safety</li>
<li>‚úÖ Support for stdio and custom transports</li>
<li>‚úÖ Full compatibility with MCP specification 2024-11-05</li>
</ul>
<p><strong>Quick Start:</strong></p>
<pre><code class="bash"><span class="hl-3"># Build the library</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Run the example</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">examples/basic</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button type="button">Copy</button></pre>

<p>Then test it:</p>
<pre><code class="bash"><span class="hl-3"># List all tools</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;method&quot;:&quot;tools/list&quot;}&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="complete-application-example-code-snippets" class="tsd-anchor-link">Complete Application Example (Code Snippets)<a href="#complete-application-example-code-snippets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// app.module.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">ToolsService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./tools.service&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">ResourcesService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./resources.service&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">PromptsService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./prompts.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">MCPModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-6">serverInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-awesome-mcp-server&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">capabilities:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">tools:</span><span class="hl-1"> { </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                    </span><span class="hl-6">resources:</span><span class="hl-1"> { </span><span class="hl-6">subscribe:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                    </span><span class="hl-6">prompts:</span><span class="hl-1"> { </span><span class="hl-6">listChanged:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-6">providers:</span><span class="hl-1"> [</span><span class="hl-6">ToolsService</span><span class="hl-1">, </span><span class="hl-6">ResourcesService</span><span class="hl-1">, </span><span class="hl-6">PromptsService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span><br/><br/><span class="hl-3">// tools.service.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPToolWithParams</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">ToolsService</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPToolWithParams</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;calculate&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Perform basic calculations&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;operation&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">enum:</span><span class="hl-1"> [</span><span class="hl-2">&#39;add&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;subtract&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;multiply&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;divide&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;a&#39;</span><span class="hl-1">, </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">            { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;b&#39;</span><span class="hl-1">, </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">calculate</span><span class="hl-1">(</span><span class="hl-6">params</span><span class="hl-1">: { </span><span class="hl-6">operation</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">a</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-6">b</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">operation</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;add&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> + </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;subtract&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> - </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;multiply&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> * </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;divide&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">a</span><span class="hl-1"> / </span><span class="hl-6">params</span><span class="hl-1">.</span><span class="hl-6">b</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid operation&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// resources.service.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPResourceTemplate</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">ResourcesService</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPResourceTemplate</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">uriTemplate:</span><span class="hl-1"> </span><span class="hl-2">&#39;data:///{collection}/{id}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Data Item&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get data item by collection and ID&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">getDataItem</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">: { </span><span class="hl-6">collection</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Fetch from database</span><br/><span class="hl-1">        </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">item</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">fetchFromDB</span><span class="hl-1">(</span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">collection</span><span class="hl-1">, </span><span class="hl-6">variables</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">uri:</span><span class="hl-1"> </span><span class="hl-2">`data:///</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">collection</span><span class="hl-7">}</span><span class="hl-2">/</span><span class="hl-7">${</span><span class="hl-6">variables</span><span class="hl-9">.</span><span class="hl-6">id</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">mimeType:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-10">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-6">item</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">fetchFromDB</span><span class="hl-1">(</span><span class="hl-6">collection</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Your database logic here</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">collection</span><span class="hl-1">, </span><span class="hl-6">id</span><span class="hl-1">, </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-2">&#39;example&#39;</span><span class="hl-1"> };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// prompts.service.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MCPPrompt</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hmake98/nestjs-mcp&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-8">PromptsService</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">MCPPrompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;analyze-data&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Generate a data analysis prompt&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">arguments:</span><span class="hl-1"> [</span><br/><span class="hl-1">            { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;dataset&#39;</span><span class="hl-1">, </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Dataset name&#39;</span><span class="hl-1">, </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;metric&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Metric to analyze&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">analyzeData</span><span class="hl-1">(</span><span class="hl-6">args</span><span class="hl-1">: { </span><span class="hl-6">dataset</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-6">metric</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }) {</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-6">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-6">content:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">`Analyze the </span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">metric</span><span class="hl-7">}</span><span class="hl-2"> metric from the </span><span class="hl-7">${</span><span class="hl-6">args</span><span class="hl-9">.</span><span class="hl-6">dataset</span><span class="hl-7">}</span><span class="hl-2"> dataset.`</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        ];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// main.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">NestFactory</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/core&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">AppModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./app.module&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">bootstrap</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-10">app</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">NestFactory</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-6">AppModule</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">app</span><span class="hl-1">.</span><span class="hl-0">listen</span><span class="hl-1">(</span><span class="hl-13">3000</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;MCP Server running on http://localhost:3000/mcp&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-0">bootstrap</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="testing-your-mcp-server" class="tsd-anchor-link">Testing Your MCP Server<a href="#testing-your-mcp-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># List all tools</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;method&quot;:&quot;tools/list&quot;}&#39;</span><br/><br/><span class="hl-3"># Call a tool</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{</span><br/><span class="hl-2">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span><br/><span class="hl-2">    &quot;id&quot;:2,</span><br/><span class="hl-2">    &quot;method&quot;:&quot;tools/call&quot;,</span><br/><span class="hl-2">    &quot;params&quot;:{</span><br/><span class="hl-2">      &quot;name&quot;:&quot;calculate&quot;,</span><br/><span class="hl-2">      &quot;arguments&quot;:{&quot;operation&quot;:&quot;add&quot;,&quot;a&quot;:10,&quot;b&quot;:5}</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }&#39;</span><br/><br/><span class="hl-3"># List resources</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:3,&quot;method&quot;:&quot;resources/list&quot;}&#39;</span><br/><br/><span class="hl-3"># Read a resource</span><br/><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-7">-X</span><span class="hl-1"> </span><span class="hl-2">POST</span><span class="hl-1"> </span><span class="hl-2">http://localhost:3000/mcp</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Content-Type: application/json&quot;</span><span class="hl-1"> </span><span class="hl-11">\</span><br/><span class="hl-1">  </span><span class="hl-7">-d</span><span class="hl-1"> </span><span class="hl-2">&#39;{</span><br/><span class="hl-2">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span><br/><span class="hl-2">    &quot;id&quot;:4,</span><br/><span class="hl-2">    &quot;method&quot;:&quot;resources/read&quot;,</span><br/><span class="hl-2">    &quot;params&quot;:{&quot;uri&quot;:&quot;data:///users/123&quot;}</span><br/><span class="hl-2">  }&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! Please follow these guidelines:</p>
<ol>
<li>Fork the repository</li>
<li>Create a feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
<li>Make your changes</li>
<li>Run tests (<code>npm test</code>)</li>
<li>Run linting (<code>npm run lint</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add amazing feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>
<h3 id="development-setup" class="tsd-anchor-link">Development Setup<a href="#development-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Clone the repository</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/hmake98/nestjs-mcp.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">nestjs-mcp</span><br/><br/><span class="hl-3"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-3"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Run tests with coverage</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:ci</span><br/><br/><span class="hl-3"># Build the package</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Lint and format</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">fix-all</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#hmake98nestjs-mcp"><span>@hmake98/nestjs-<wbr/>mcp</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><ul><li><a href="#peer-dependencies"><span>Peer <wbr/>Dependencies</span></a></li><li><a href="#optional-transport-dependencies"><span>Optional <wbr/>Transport <wbr/>Dependencies</span></a></li></ul></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#1-import-the-module"><span>1. <wbr/>Import the <wbr/>Module</span></a></li><li><a href="#2-create-mcp-tools"><span>2. <wbr/>Create <wbr/>MCP <wbr/>Tools</span></a></li><li><a href="#3-create-mcp-resources"><span>3. <wbr/>Create <wbr/>MCP <wbr/>Resources</span></a></li><li><a href="#4-create-mcp-prompts"><span>4. <wbr/>Create <wbr/>MCP <wbr/>Prompts</span></a></li></ul></li><li><a href="#example-repository"><span>Example <wbr/>Repository</span></a></li><li><a href="#mcp-playground"><span>MCP <wbr/>Playground</span></a></li><li><ul><li><a href="#features-1"><span>Features</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><a href="#playground-tabs"><span>Playground <wbr/>Tabs</span></a></li></ul></li><li><a href="#type-safe-client-generator"><span>Type-<wbr/>Safe <wbr/>Client <wbr/>Generator</span></a></li><li><ul><li><a href="#quick-start-1"><span>Quick <wbr/>Start</span></a></li><li><a href="#usage-1"><span>Usage</span></a></li><li><a href="#features-2"><span>Features</span></a></li><li><a href="#generated-structure"><span>Generated <wbr/>Structure</span></a></li><li><a href="#integration-examples"><span>Integration <wbr/>Examples</span></a></li><li><a href="#cli-options"><span>CLI <wbr/>Options</span></a></li><li><a href="#regenerating-after-changes"><span>Regenerating <wbr/>After <wbr/>Changes</span></a></li></ul></li><li><a href="#guards-interceptors"><span>Guards &amp; <wbr/>Interceptors</span></a></li><li><ul><li><a href="#quick-example"><span>Quick <wbr/>Example</span></a></li><li><a href="#built-in-guards"><span>Built-<wbr/>in <wbr/>Guards</span></a></li><li><a href="#built-in-interceptors"><span>Built-<wbr/>in <wbr/>Interceptors</span></a></li><li><a href="#usage-patterns"><span>Usage <wbr/>Patterns</span></a></li><li><a href="#custom-guards"><span>Custom <wbr/>Guards</span></a></li><li><a href="#custom-interceptors"><span>Custom <wbr/>Interceptors</span></a></li></ul></li><li><a href="#configuration"><span>Configuration</span></a></li><li><ul><li><a href="#module-options"><span>Module <wbr/>Options</span></a></li><li><a href="#synchronous-configuration"><span>Synchronous <wbr/>Configuration</span></a></li><li><a href="#asynchronous-configuration"><span>Asynchronous <wbr/>Configuration</span></a></li><li><a href="#using-for-async-configuration"><span>Using  for <wbr/>Async <wbr/>Configuration</span></a></li><li><a href="#feature-module-registration"><span>Feature <wbr/>Module <wbr/>Registration</span></a></li></ul></li><li><a href="#decorators"><span>Decorators</span></a></li><li><ul><li><a href="#"><span></span></a></li><li><a href="#-1"><span></span></a></li><li><a href="#-2"><span></span></a></li><li><a href="#-3"><span></span></a></li><li><a href="#-4"><span></span></a></li></ul></li><li><a href="#versioning-deprecation"><span>Versioning &amp; <wbr/>Deprecation</span></a></li><li><ul><li><a href="#version-tracking"><span>Version <wbr/>Tracking</span></a></li><li><a href="#deprecation-support"><span>Deprecation <wbr/>Support</span></a></li><li><a href="#deprecation-options"><span>Deprecation <wbr/>Options</span></a></li><li><a href="#runtime-behavior"><span>Runtime <wbr/>Behavior</span></a></li><li><a href="#list-response-with-versiondeprecation"><span>List <wbr/>Response with <wbr/>Version/<wbr/>Deprecation</span></a></li><li><a href="#full-example-with-all-mcp-types"><span>Full <wbr/>Example with <wbr/>All <wbr/>MCP <wbr/>Types</span></a></li><li><a href="#best-practices"><span>Best <wbr/>Practices</span></a></li></ul></li><li><a href="#transport-options"><span>Transport <wbr/>Options</span></a></li><li><ul><li><a href="#http-transport-default"><span>HTTP <wbr/>Transport (<wbr/>Default)</span></a></li><li><a href="#websocket-transport"><span>Web<wbr/>Socket <wbr/>Transport</span></a></li><li><a href="#server-sent-events-sse-transport"><span>Server-<wbr/>Sent <wbr/>Events (<wbr/>SSE) <wbr/>Transport</span></a></li><li><a href="#redis-transport"><span>Redis <wbr/>Transport</span></a></li><li><a href="#grpc-transport"><span>g<wbr/>RPC <wbr/>Transport</span></a></li><li><a href="#multiple-transports"><span>Multiple <wbr/>Transports</span></a></li><li><a href="#transport-comparison"><span>Transport <wbr/>Comparison</span></a></li><li><a href="#stdio-transport"><span>Stdio <wbr/>Transport</span></a></li></ul></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#services"><span>Services</span></a></li><li><ul><li><a href="#mcpservice"><span>MCP<wbr/>Service</span></a></li><li><a href="#mcpregistryservice"><span>MCP<wbr/>Registry<wbr/>Service</span></a></li><li><a href="#mcpsdkservice"><span>MCPSDK<wbr/>Service</span></a></li><li><a href="#mcpdiscoveryservice"><span>MCP<wbr/>Discovery<wbr/>Service</span></a></li></ul></li><li><a href="#types-and-interfaces"><span>Types and <wbr/>Interfaces</span></a></li><li><ul><li><a href="#mcprequest"><span>MCP<wbr/>Request</span></a></li><li><a href="#mcpresponse"><span>MCP<wbr/>Response</span></a></li><li><a href="#mcptoolresult"><span>MCP<wbr/>Tool<wbr/>Result</span></a></li></ul></li></ul></li><li><a href="#architecture"><span>Architecture</span></a></li><li><ul><li><a href="#component-responsibilities"><span>Component <wbr/>Responsibilities</span></a></li><li><a href="#sdk-integration"><span>SDK <wbr/>Integration</span></a></li><li><a href="#complete-application-example-code-snippets"><span>Complete <wbr/>Application <wbr/>Example (<wbr/>Code <wbr/>Snippets)</span></a></li><li><a href="#testing-your-mcp-server"><span>Testing <wbr/>Your <wbr/>MCP <wbr/>Server</span></a></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#development-setup"><span>Development <wbr/>Setup</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/hmake98/nestjs-mcp">GitHub</a><a href="https://www.npmjs.com/package/nestjs-mcp">NPM</a><a href="https://github.com/hmake98/nestjs-mcp" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/nestjs-mcp" class="tsd-nav-link">NPM</a></nav><nav class="tsd-navigation"><a href="modules.html">NestJS MCP - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
